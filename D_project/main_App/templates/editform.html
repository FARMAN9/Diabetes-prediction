{% extends 'base.html' %}

{% block base %}
<div class="form-group bg-info"> <!-- Add a container div for Bootstrap styling -->
  <div class="row justify-content-center">
    <div class="col-md-4"> <!-- Reduced the column size to col-md-4 -->
      <div class="container">
        <legend>Edit Details</legend>
      </div>
      <form action="" method="post" class="my-5" id="patient-form">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-danger m-3">Submit</button>
      </form>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  // Ensure the document is ready before running the script
  document.addEventListener("DOMContentLoaded", function() {
    const genderInput = document.getElementById("id_gender");
    const pregnanciesInput = document.getElementById("id_pregnancies");

    genderInput.addEventListener("change", function() {
      const genderValue = genderInput.value;
      console.log("Gender field value:", genderValue);

      if (genderValue === "male") {
        pregnanciesInput.disabled = true;
        console.log('iam here')
        pregnanciesInput.value = ""; // Clear the value when disabled
      } else {
        pregnanciesInput.disabled = false;
      }
    });

    // Initialize the state based on the initial value
    if (genderInput.value === "male") {
      pregnanciesInput.disabled = true;
      pregnanciesInput.value = ""; // Clear the value when disabled
    }
  });
</script>


{% endblock %}
